(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2hfb":function(e,a,t){e.exports={login:"login___1whLd"}},gqXj:function(e,a,t){"use strict";t.r(a);var n=t("p0pE"),r=t.n(n),c=t("qIgq"),o=t.n(c),s=t("q1tI"),l=t.n(s),i=t("pf/J"),u=t("lsKZ"),d=t("0WZ6"),f=t("3a4m"),m=t.n(f),p=t("M8b6"),v=t("SvPG"),h=t("TSYQ"),b=t.n(h),g=t("Tr0W"),E=e=>{var a=e.className,t=(e.onClick,e.duration),n=void 0===t?30:t,r=Object(s["useState"])(n),c=o()(r,2),i=c[0],u=c[1],d=Object(s["useState"])(1e3),f=o()(d,1),m=f[0],p=Object(s["useState"])(!1),v=o()(p,2),h=v[0],E=v[1],w=Object(s["useState"])("\u83b7\u53d6\u9a8c\u8bc1\u7801"),O=o()(w,2),S=O[0],C=O[1],N=Object(s["useState"])(!1),k=o()(N,2),I=k[0],q=k[1];j(()=>{C("".concat(i,"s\u540e\u91cd\u65b0\u53d1\u9001")),u(i-1),q(!0),0===i&&(E(!1),q(!1),C("\u91cd\u65b0\u53d1\u9001"))},h?m:null);var x=()=>{E(!0),u(n)};return l.a.createElement(g["a"],{className:b()(a,"send-code"),size:"sm",disabled:I},I?S:l.a.createElement("span",{onClick:x},S))};function j(e,a){var t=Object(s["useRef"])();Object(s["useEffect"])(()=>{t.current=e},[e]),Object(s["useEffect"])(()=>{function e(){t.current()}if(null!==a){var n=setInterval(e,a);return()=>clearInterval(n)}},[a])}var w=t("2hfb"),O=t.n(w);t.d(a,"default",function(){return C});var S={phone:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",verificationCode:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"};function C(){var e=Object(s["useReducer"])((e,a)=>r()({},e,a),{loading:!1,form:{phone:"",verificationCode:""}}),a=o()(e,2),t=a[0],n=a[1],c=()=>{var e=!1;Object.keys(t.form).forEach(a=>{t.form[a]||e||(e=!0,i["a"].show(S[a]))}),e||(console.log("[29] signup.jsx: ","submit"),d["d"](t.form).then(e=>{var a=e.content,t=e.respMsg,n=void 0===t?"":t;a&&a["uid"]?(i["a"].show("\u767b\u5f55\u6210\u529f"),window.sessionStorage.setItem("user",JSON.stringify(a["uid"])),m.a.push("/")):i["a"].show(n)}))},f=(e,a)=>{n({form:r()({},t.form,{[a]:e})})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p["a"],{title:"\u624b\u673a\u53f7\u767b\u5f55"}),l.a.createElement("div",{style:{padding:"60px 0 30px"},className:O.a.login},l.a.createElement(u["a"],{className:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",onChange:e=>f(e,"phone")}),l.a.createElement("div",{className:"code-control"},l.a.createElement(u["a"],{className:"code",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:e=>f(e,"verificationCode")}),l.a.createElement(E,null))),l.a.createElement(v["a"],{onClick:c},"\u767b\u5f55"))}}}]);
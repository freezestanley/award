(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2hfb":function(e,t,n){e.exports={login:"login___1whLd"}},gqXj:function(e,t,n){"use strict";n.r(t);var a=n("d6i3"),r=n.n(a),o=n("1l/V"),c=n.n(o),s=n("p0pE"),i=n.n(s),u=n("qIgq"),l=n.n(u),d=n("q1tI"),f=n.n(d),m=n("pf/J"),p=n("lsKZ"),h=n("0WZ6"),v=n("8+Sn"),b=n("3a4m"),g=n.n(b),w=n("uJMD"),E=n("M8b6"),j=n("SvPG"),S=n("TSYQ"),O=n.n(S),I=n("Tr0W"),k=e=>{var t=e.className,n=e.onSend,a=e.duration,r=void 0===a?30:a,o=Object(d["useState"])(r),c=l()(o,2),s=c[0],i=c[1],u=Object(d["useState"])(1e3),m=l()(u,1),p=m[0],h=Object(d["useState"])(!1),v=l()(h,2),b=v[0],g=v[1],w=Object(d["useState"])("\u83b7\u53d6\u9a8c\u8bc1\u7801"),E=l()(w,2),j=E[0],S=E[1],k=Object(d["useState"])(!1),N=l()(k,2),x=N[0],q=N[1];C(()=>{S("".concat(s,"s\u540e\u91cd\u65b0\u53d1\u9001")),i(s-1),q(!0),0===s&&(g(!1),q(!1),S("\u91cd\u65b0\u53d1\u9001"))},b?p:null);var J=()=>{n&&n().then(e=>{e&&(g(!0),i(r))})};return f.a.createElement(I["a"],{className:O()(t,"send-code"),size:"sm",disabled:x},x?j:f.a.createElement("span",{onClick:J},j))};function C(e,t){var n=Object(d["useRef"])();Object(d["useEffect"])(()=>{n.current=e},[e]),Object(d["useEffect"])(()=>{function e(){n.current()}if(null!==t){var a=setInterval(e,t);return()=>clearInterval(a)}},[t])}var N=n("2hfb"),x=n.n(N);n.d(t,"default",function(){return J});var q={phone:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",verificationCode:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"};function J(){var e=Object(d["useReducer"])((e,t)=>i()({},e,t),{loading:!1,form:{phone:"",verificationCode:""}}),t=l()(e,2),n=t[0],a=t[1],o=()=>{var e=w["a"].get("gameId"),t=window.sessionStorage.getItem("promotorId")||"",a=!1;if(Object.keys(n.form).forEach(e=>{n.form[e]||a||(a=!0,m["a"].show(q[e]))}),!a){if(!/^1\d{10}$/.test(n.form.phone))return m["a"].show("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u9519\u8bef");h["d"](i()({},n.form,{promoterUserId:t})).then(t=>{var n=t.content,a=t.respMsg,r=void 0===a?"":a;n&&n["uid"]?(m["a"].show("\u767b\u5f55\u6210\u529f"),v["a"].set("user",n["uid"]),g.a.push(e?"/recharge?gameId=".concat(e):"/")):m["a"].show(r)})}},s=(e,t)=>{a({form:i()({},n.form,{[t]:e})})},u=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(/^1\d{10}$/.test(n.form.phone)){e.next=3;break}return m["a"].show("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u9519\u8bef"),e.abrupt("return",!1);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return f.a.createElement(f.a.Fragment,null,f.a.createElement(E["a"],{title:"\u624b\u673a\u53f7\u767b\u5f55"}),f.a.createElement("div",{style:{padding:"60px 0 30px"},className:x.a.login},f.a.createElement(p["a"],{className:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",onChange:e=>s(e,"phone")}),f.a.createElement("div",{className:"code-control"},f.a.createElement(p["a"],{className:"code",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:e=>s(e,"verificationCode")}),f.a.createElement(k,{onSend:u}))),f.a.createElement(j["a"],{onClick:o},"\u767b\u5f55"))}}}]);
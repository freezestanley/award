(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2hfb":function(e,a,t){e.exports={login:"login___1whLd"}},gqXj:function(e,a,t){"use strict";t.r(a);var n=t("p0pE"),c=t.n(n),r=t("qIgq"),o=t.n(r),s=t("q1tI"),l=t.n(s),i=t("pf/J"),u=t("lsKZ"),d=t("0WZ6"),m=t("3a4m"),f=t.n(m),p=t("uJMD"),v=t("M8b6"),g=t("SvPG"),h=t("TSYQ"),b=t.n(h),E=t("Tr0W"),j=e=>{var a=e.className,t=(e.onClick,e.duration),n=void 0===t?30:t,c=Object(s["useState"])(n),r=o()(c,2),i=r[0],u=r[1],d=Object(s["useState"])(1e3),m=o()(d,1),f=m[0],p=Object(s["useState"])(!1),v=o()(p,2),g=v[0],h=v[1],j=Object(s["useState"])("\u83b7\u53d6\u9a8c\u8bc1\u7801"),O=o()(j,2),S=O[0],C=O[1],I=Object(s["useState"])(!1),N=o()(I,2),k=N[0],J=N[1];w(()=>{C("".concat(i,"s\u540e\u91cd\u65b0\u53d1\u9001")),u(i-1),J(!0),0===i&&(h(!1),J(!1),C("\u91cd\u65b0\u53d1\u9001"))},g?f:null);var q=()=>{h(!0),u(n)};return l.a.createElement(E["a"],{className:b()(a,"send-code"),size:"sm",disabled:k},k?S:l.a.createElement("span",{onClick:q},S))};function w(e,a){var t=Object(s["useRef"])();Object(s["useEffect"])(()=>{t.current=e},[e]),Object(s["useEffect"])(()=>{function e(){t.current()}if(null!==a){var n=setInterval(e,a);return()=>clearInterval(n)}},[a])}var O=t("2hfb"),S=t.n(O);t.d(a,"default",function(){return I});var C={phone:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",verificationCode:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"};function I(){var e=Object(s["useReducer"])((e,a)=>c()({},e,a),{loading:!1,form:{phone:"",verificationCode:""}}),a=o()(e,2),t=a[0],n=a[1],r=()=>{var e=p["a"].get("gameId"),a=!1;Object.keys(t.form).forEach(e=>{t.form[e]||a||(a=!0,i["a"].show(C[e]))}),a||(console.log("[29] signup.jsx: ","submit"),d["d"](t.form).then(a=>{var t=a.content,n=a.respMsg,c=void 0===n?"":n;t&&t["uid"]?(i["a"].show("\u767b\u5f55\u6210\u529f"),window.sessionStorage.setItem("user",JSON.stringify(t["uid"])),f.a.push(e?"/recharge?gameId=".concat(e):"/")):i["a"].show(c)}))},m=(e,a)=>{n({form:c()({},t.form,{[a]:e})})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v["a"],{title:"\u624b\u673a\u53f7\u767b\u5f55"}),l.a.createElement("div",{style:{padding:"60px 0 30px"},className:S.a.login},l.a.createElement(u["a"],{className:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",onChange:e=>m(e,"phone")}),l.a.createElement("div",{className:"code-control"},l.a.createElement(u["a"],{className:"code",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:e=>m(e,"verificationCode")}),l.a.createElement(j,null))),l.a.createElement(g["a"],{onClick:r},"\u767b\u5f55"))}}}]);
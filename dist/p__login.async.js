(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2hfb":function(e,a,t){e.exports={login:"login___1whLd"}},gqXj:function(e,a,t){"use strict";t.r(a);var n=t("p0pE"),r=t.n(n),o=t("qIgq"),c=t.n(o),s=t("q1tI"),l=t.n(s),i=t("pf/J"),u=t("lsKZ"),d=t("0WZ6"),m=t("8+Sn"),f=t("3a4m"),p=t.n(f),h=t("uJMD"),v=t("M8b6"),g=t("SvPG"),b=t("TSYQ"),E=t.n(b),w=t("Tr0W"),j=e=>{var a=e.className,t=(e.onClick,e.duration),n=void 0===t?30:t,r=Object(s["useState"])(n),o=c()(r,2),i=o[0],u=o[1],d=Object(s["useState"])(1e3),m=c()(d,1),f=m[0],p=Object(s["useState"])(!1),h=c()(p,2),v=h[0],g=h[1],b=Object(s["useState"])("\u83b7\u53d6\u9a8c\u8bc1\u7801"),j=c()(b,2),I=j[0],S=j[1],C=Object(s["useState"])(!1),k=c()(C,2),N=k[0],q=k[1];O(()=>{S("".concat(i,"s\u540e\u91cd\u65b0\u53d1\u9001")),u(i-1),q(!0),0===i&&(g(!1),q(!1),S("\u91cd\u65b0\u53d1\u9001"))},v?f:null);var J=()=>{g(!0),u(n)};return l.a.createElement(w["a"],{className:E()(a,"send-code"),size:"sm",disabled:N},N?I:l.a.createElement("span",{onClick:J},I))};function O(e,a){var t=Object(s["useRef"])();Object(s["useEffect"])(()=>{t.current=e},[e]),Object(s["useEffect"])(()=>{function e(){t.current()}if(null!==a){var n=setInterval(e,a);return()=>clearInterval(n)}},[a])}var I=t("2hfb"),S=t.n(I);t.d(a,"default",function(){return k});var C={phone:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",verificationCode:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"};function k(){var e=Object(s["useReducer"])((e,a)=>r()({},e,a),{loading:!1,form:{phone:"",verificationCode:""}}),a=c()(e,2),t=a[0],n=a[1],o=()=>{var e=h["a"].get("gameId"),a=window.sessionStorage.getItem("promotorId")||"",n=!1;if(Object.keys(t.form).forEach(e=>{t.form[e]||n||(n=!0,i["a"].show(C[e]))}),!n){if(!/^1\d{10}$/.test(t.form.phone))return i["a"].show("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u9519\u8bef");d["d"](r()({},t.form,{promoterUserId:a})).then(a=>{var t=a.content,n=a.respMsg,r=void 0===n?"":n;t&&t["uid"]?(i["a"].show("\u767b\u5f55\u6210\u529f"),m["a"].set("user",t["uid"]),p.a.push(e?"/recharge?gameId=".concat(e):"/")):i["a"].show(r)})}},f=(e,a)=>{n({form:r()({},t.form,{[a]:e})})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v["a"],{title:"\u624b\u673a\u53f7\u767b\u5f55"}),l.a.createElement("div",{style:{padding:"60px 0 30px"},className:S.a.login},l.a.createElement(u["a"],{className:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",onChange:e=>f(e,"phone")}),l.a.createElement("div",{className:"code-control"},l.a.createElement(u["a"],{className:"code",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:e=>f(e,"verificationCode")}),l.a.createElement(j,null))),l.a.createElement(g["a"],{onClick:o},"\u767b\u5f55"))}}}]);